# Experiment: EfficientNet-B0 gate + PatchCore Wide-ResNet50 heatmap
experiment_id: "gate_effnetb0_patchcore_wrn50"
description: "EfficientNet-B0 as gate model with PatchCore (Wide-ResNet50) for heatmap"

# Dataset configuration
dataset_root: "./final_dataset"
metadata_csv: "outputs/metadata.csv"
seed: 42

# Model configuration
gate_model:
  name: "efficientnet_b0"
  pretrained: true
  num_classes: 2
  image_size: 224

heatmap_model:
  name: "patchcore"
  backbone: "wide_resnet50_2"
  layers: ["layer2", "layer3"]
  image_size: 224
  coreset_sampling_ratio: 0.1
  num_neighbors: 9

# Cascade thresholds
thresholds:
  T_low: 0.3
  T_high: 0.7

# Evaluation configuration
eval_splits:
  - "test_mix"
  - "neu_test"

# Training configuration
training:
  gate:
    epochs: 20
    batch_size: 32
    lr: 0.001
    weight_decay: 0.0001
  heatmap:
    batch_size: 16  # Smaller batch for larger model
    num_workers: 4

# Artifacts
artifacts_dir: "models/gate_effnetb0_patchcore_wrn50"
